{% extends 'base.html.twig' %}

{% block title %}Affichage des données{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('build/app.css') }}">
{% endblock %}

{% block body %}
<div class="container">
    <h1>Affichage des données du fichier</h1>

    <!-- Formulaire pour ignorer les premières lignes -->
    <form action="{{ path('affichage') }}" method="get">
        <label for="ignore_first_rows">Ignorer des lignes :</label><br>
        <input type="radio" id="ignore_first_rows_none" name="ignore_first_rows" value="none" {% if ignore_first_rows == 'none' %}checked{% endif %}>
        <label for="ignore_first_rows_none">Aucune ligne</label><br>

        <input type="radio" id="ignore_first_rows_one" name="ignore_first_rows" value="one" {% if ignore_first_rows == 'one' %}checked{% endif %}>
        <label for="ignore_first_rows_one">Ignorer la première ligne</label><br>

        <input type="radio" id="ignore_first_rows_two" name="ignore_first_rows" value="two" {% if ignore_first_rows == 'two' %}checked{% endif %}>
        <label for="ignore_first_rows_two">Ignorer les deux premières lignes</label><br>

        <button type="submit">Appliquer</button>
    </form>

    <!-- Tableau des données -->
    <table>
        <thead>
            <tr>
                {% for letter in colLetters %}
                    <th>{{ letter }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for row in data %}
                <tr>
                    {% for cell in row %}
                        <td>{{ cell }}</td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <form action="{{ path('accueil') }}" method="get">
        <button class="radio-form button" type="submit">Retour à l'Accueil</button>
    </form>

    <!-- Listes déroulantes pour sélectionner des colonnes -->
    <div class="form-container">
        <h3>Filtres</h3>
        <form action="" method="post">
            <div>
                <label for="raison_social">Raison Sociale :</label>
                <select id="raison_social" name="raison_social">
                    {% for letter in colLetters %}
                        <option value="{{ letter }}">{{ letter }}</option>
                    {% endfor %}
                </select>
            </div>

            <div>
                <label for="civilite_nom_prenom">Civilité, Nom, Prénom :</label>
                <select id="civilite_nom_prenom" name="civilite_nom_prenom[]" multiple>
                    {% for letter in colLetters %}
                        <option value="{{ letter }}">{{ letter }}</option>
                    {% endfor %}
                </select>
            </div>

            <div>
                <label for="adresse_1">Adresse 1 :</label>
                <select id="adresse_1" name="adresse_1">
                    {% for letter in colLetters %}
                        <option value="{{ letter }}">{{ letter }}</option>
                    {% endfor %}
                </select>
            </div>

            <div>
                <label for="adresse_2">Adresse 2 :</label>
                <select id="adresse_2" name="adresse_2">
                    {% for letter in colLetters %}
                        <option value="{{ letter }}">{{ letter }}</option>
                    {% endfor %}
                </select>
            </div>

            <div>
                <label for="adresse_3">Adresse 3 :</label>
                <select id="adresse_3" name="adresse_3">
                    {% for letter in colLetters %}
                        <option value="{{ letter }}">{{ letter }}</option>
                    {% endfor %}
                </select>
            </div>

            <div>
                <label for="code_postal">Code Postal :</label>
                <select id="code_postal" name="code_postal">
                    {% for letter in colLetters %}
                        <option value="{{ letter }}">{{ letter }}</option>
                    {% endfor %}
                </select>
            </div>

            <div>
                <label for="ville">Ville :</label>
                <select id="ville" name="ville">
                    {% for letter in colLetters %}
                        <option value="{{ letter }}">{{ letter }}</option>
                    {% endfor %}
                </select>
            </div>

            <div>
                <label for="pays">Pays :</label>
                <select id="pays" name="pays">
                    {% for letter in colLetters %}
                        <option value="{{ letter }}">{{ letter }}</option>
                    {% endfor %}
                </select>
            </div>

            <button type="submit">Appliquer les filtres</button>
        </form>
    </div>
</div>
{% endblock %}
