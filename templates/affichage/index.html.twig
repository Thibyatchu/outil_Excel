{% extends 'base.html.twig' %}

{% block title %}Display Page{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
</style>

<div class="example-wrapper">
    <h1>{{ message }}</h1>

    {% if data is not null %}
        <div id="spreadsheet"></div>

        <script type="text/javascript">
            // Convertir les données JSON passées par le contrôleur
            var data = {{ data | raw }};
            
            // Initialiser jspreadsheet avec les données
            jspreadsheet(document.getElementById('spreadsheet'), {
                data: data,        // Charger les données
                columns: data[0],  // Les premières lignes comme en-têtes de colonnes
                minDimensions: [10, 10],  // Taille minimale de la grille
                allowInsertColumn: false, // Désactiver l'insertion de colonnes
                allowInsertRow: false,    // Désactiver l'insertion de lignes
                allowDeleteColumn: false, // Désactiver la suppression de colonnes
                allowDeleteRow: false,    // Désactiver la suppression de lignes
            });
        </script>
    {% endif %}
</div>

{% endblock %}
